<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'primary': '#FF5733', // Naranja/Rojo vibrante para CTA
                    'secondary': '#343A40', // Gris oscuro para fondo de formulario
                    'accent': '#17A2B8', // Azul brillante
                },
            },
        },
    }
</script>
<style>
    /* Estilos generales para Inter y centrado */
    body {
        font-family: 'Inter', sans-serif;
        background-color: #0d1117; /* Fondo oscuro */
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
    }
    .form-container {
        max-width: 550px;
        width: 100%;
        background-color: #1e2124; /* Fondo del formulario más claro */
    }
    .alert-message {
        transition: all 0.3s ease-in-out;
    }
</style>

<div class="form-container rounded-xl shadow-2xl p-6 md:p-10">
    <h1 class="text-3xl font-bold text-white mb-2">¡Empecemos a trabajar juntos!</h1>
    <p class="text-gray-400 mb-8">Rellena este breve formulario y me pondré en contacto contigo lo antes posible.</p>

    <!--
        *** CAMBIO CLAVE AQUÍ: Se utiliza la URL de Formspree para el envío directo. ***
        * Reemplaza 'https://formspree.io/f/fmoqgrkp' con tu URL real.
        * El envío será gestionado por el navegador, no por JavaScript, lo que evita el error del Serverless Function.
        * El campo '_replyto' es esencial para que Formspree use ese email como respuesta.
    -->
    <form action="https://formspree.io/f/xnnwvdkl" method="POST" class="space-y-6">

        <!-- Este div ya no se usa para mostrar errores, ya que Formspree gestiona la respuesta -->
        <div id="alertContainer" class="hidden"></div> 

        <!-- Nombre Completo -->
        <div>
            <label for="name" class="block text-sm font-medium text-gray-300">Nombre completo *</label>
            <input type="text" id="name" name="Nombre completo" required
                   class="mt-1 block w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-primary focus:border-primary">
        </div>

        <!-- Email (CRUCIAL para Formspree: usa '_replyto') -->
        <div>
            <label for="email" class="block text-sm font-medium text-gray-300">Email *</label>
            <input type="email" id="email" name="_replyto" required 
                   placeholder="djser69@gmail.com"
                   class="mt-1 block w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-primary focus:border-primary">
        </div>

        <!-- Tipo de Proyecto -->
        <div>
            <label for="project_type" class="block text-sm font-medium text-gray-300">¿En qué puedo ayudarte? *</label>
            <select id="project_type" name="Tipo de Proyecto" required
                    class="mt-1 block w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-primary focus:border-primary appearance-none">
                <option value="">Selecciona una opción</option>
                <option value="Desarrollo Web (Landing Page)">Desarrollo Web (Landing Page)</option>
                <option value="Desarrollo Web (E-commerce)">Desarrollo Web (E-commerce)</option>
                <option value="Integración API/Backend">Integración API/Backend</option>
                <option value="Entrevista, para trabajar en tu empresa">Entrevista, para trabajar en tu empresa</option>
                <option value="Otro">Otro</option>
            </select>
        </div>

        <!-- Detalles del Proyecto -->
        <div>
            <label for="project_details" class="block text-sm font-medium text-gray-300">Cuéntame más detalles sobre lo que necesitas:</label>
            <textarea id="project_details" name="Detalles del Proyecto" rows="4" 
                      class="mt-1 block w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-primary focus:border-primary"></textarea>
        </div>

        <!-- Presupuesto Estimado -->
        <div>
            <label for="budget" class="block text-sm font-medium text-gray-300">Presupuesto estimado (Opcional)</label>
            <select id="budget" name="Presupuesto Estimado"
                    class="mt-1 block w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-primary focus:border-primary appearance-none">
                <option value="No especificado">Selecciona un rango</option>
                <option value="Menos de 1000€">Menos de 1000€</option>
                <option value="1000€ - 3000€">1000€ - 3000€</option>
                <option value="3000€ - 6000€">3000€ - 6000€</option>
                <option value="Más de 6000€">Más de 6000€</option>
            </select>
        </div>

        <!-- Botón de Envío -->
        <button type="submit" id="submitButton"
                class="w-full py-3 bg-primary text-white font-semibold rounded-lg shadow-lg hover:bg-orange-600 focus:outline-none focus:ring-4 focus:ring-orange-800 transition duration-150 ease-in-out">
            Enviar Solicitud
        </button>
        
        <!-- Campo Honeypot Oculto (Anti-spam de Formspree) -->
        <input type="text" name="_gotcha" style="display:none" />
    </form>
    
    <p class="text-center text-sm text-gray-500 mt-4">
        Volver al <a href="#" class="text-primary hover:text-orange-600">Portafolio Principal</a>
    </p>
</div>

<!-- 
    Se elimina el JavaScript anterior que manejaba el 'fetch' y las alertas,
    ya que Formspree ahora gestiona la respuesta directamente con una página de éxito.
-->
